<div class="content-wrapper" *ngIf="teams" id="main-content">

  <div class="container-fluid">
    <app-team-detail [team]="selectedTeam" *ngIf="selectedTeam"></app-team-detail>
    <section class="content">
      <!--  TeamDetailComponent -->
      <ul class="sidebar-menu">
        <ng-container *ngFor="let team of teams; let i=index">
          <li *ngIf="team.ihniTeam.info.agence">
            <a href="#" (click)="onSelect(team, i)" [class.active]="team.ihniTeam.info.id === selectedTeam.ihniTeam.info.id">
              <i class="menu-icon bg-blue">{{ team.ihniTeam.info.name.substring(0,3)}}</i>
              <div class="menu-info"> {{ team.ihniTeam.info.agence.nom }} - {{ team.ihniTeam.info.name }} </div>
            </a>
          </li>
        </ng-container>
      </ul>

      <!-- UpButton -->
      <div class="team-nav visible-xs" *ngIf="teamIndex > 0" >
        <a href="#" class="btn btn-default btn-block btn-flat" (click)="onSelect(teams[teamIndex - 1], teamIndex - 1)">
          <i class="fa fa-angle-up"></i>
          <div>{{ teams[teamIndex - 1].ihniTeam.info.name }}</div>
        </a>
      </div>
      <!-- end UpButton -->

      <h3>Equipe sélectionnée : {{selectedTeam.ihniTeam.info.id}}</h3>
      <!-- UserList => TeamUsersComponent -->
      <app-team-users [team]="selectedTeam" [teams]="teams" *ngIf="loaded; else loading"></app-team-users>
      <ng-template #loading><app-spinner></app-spinner></ng-template>
      <!-- end UserList -->

      <!-- DownButton -->
      <div class="team-nav visible-xs" *ngIf="teams && teamIndex < teams.length-1"  >
        <a href="#" class="btn btn-default btn-block btn-flat" (click)="onSelect(teams[teamIndex + 1], teamIndex + 1)">
          <i class="fa fa-angle-down"></i>
          <div>{{teams[teamIndex + 1].ihniTeam.info.name}}</div>
        </a>
      </div>
      <!-- end DownButton -->

    </section>
  </div>
</div>

<!-- FooterComponent -->
<app-footer></app-footer>

